<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>jQuery Pull to refresh</title>
  
	<link rel="stylesheet" href="includes/jqmobile.css" />
	<link rel="stylesheet" href="ptr.css" />
  <script type="text/javascript" src="includes/jquery.js"></script>
  <script type="text/javascript" src="includes/jqmobile.js"></script>
  <script type="text/javascript" src="ptr.js"></script>
  
  <script type="text/javascript">
  	function start() {
			jqPTR('ptr',function (){ 
				console.log('Done!'); 
				
				// usually you call just jqPTR_refresh(); 
				// I've added setTimeout because I do not have to wait for an ajax call response
				setTimeout(jqPTR_refresh, 1000); 
			});
		}
  </script>
</head>

<body onload="start();">

  <div data-role="page" id="main">
  	<div data-role="header">
    	<h1>jqPTR Demo</h1>
    </div><!-- /header -->
    
    <div role="main" class="ui-content" id="ptr">
      <div class="loading">
  			Pull to refresh!
  		</div>
  		<div>
<div id="lipsum">
<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eget urna turpis. Donec mattis eget lectus nec dapibus. In hendrerit felis at ipsum venenatis, in placerat justo ultricies. Fusce non consequat erat. Cras non risus iaculis, semper nibh vel, interdum dui. Integer eros metus, fringilla at hendrerit hendrerit, venenatis sed erat. Suspendisse non mi vel tellus hendrerit adipiscing. Cras consectetur augue ut nulla facilisis commodo.
</p>
<p>
Suspendisse id mi non nunc elementum adipiscing a ac ipsum. Sed vulputate, ipsum a vulputate vestibulum, nulla sem molestie urna, sed feugiat felis lacus at nisi. Morbi vitae suscipit tortor, vel gravida nisi. Maecenas nec commodo dui, ac elementum nibh. Donec id lacinia nibh. Quisque tristique risus et neque gravida, a interdum leo ultrices. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
</p>
<p>
Etiam at ante id neque pharetra placerat. In quis varius dolor. Nullam ac blandit ligula, ac egestas orci. Suspendisse non adipiscing eros, in suscipit odio. Nullam gravida feugiat elit, in adipiscing velit scelerisque nec. Vivamus elementum fermentum mollis. Ut auctor fringilla nulla. Quisque magna mauris, accumsan in luctus auctor, commodo ac nibh. Donec in condimentum sapien. Duis ligula nisl, condimentum in placerat eu, ultricies quis risus. Aliquam rhoncus luctus sem, non viverra dolor rutrum id.
</p>
<p>
Donec eu urna vehicula, consectetur leo nec, pellentesque tortor. In euismod enim leo, at pharetra velit congue sed. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Cras fringilla neque a libero scelerisque feugiat. Sed convallis lorem tellus, vitae cursus ligula venenatis eget. Aliquam tempus pharetra dolor vel sagittis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
</p>
<p>
Morbi eleifend tincidunt nisl eu hendrerit. Mauris vehicula eros in pulvinar placerat. Aenean pharetra volutpat sagittis. Vestibulum vel placerat nibh, quis fringilla enim. Etiam ac ligula pellentesque, faucibus neque ut, porttitor nisi. Maecenas quis ipsum ultrices, congue orci id, eleifend justo. Suspendisse potenti.
</p>
<p>
Sed cursus ipsum sit amet nibh bibendum, quis adipiscing turpis ornare. Sed nisi turpis, venenatis et dapibus ac, hendrerit eu velit. Nunc scelerisque laoreet consequat. Aenean ac elit vel quam scelerisque vulputate. Aenean eget risus sed nunc tincidunt iaculis et nec lacus. Etiam id accumsan mauris. Praesent ipsum ligula, vehicula nec dui vitae, vestibulum interdum ante. Sed sagittis felis diam, at tempor quam mollis a. Phasellus elementum semper est. Ut ut commodo ante, sed aliquet nunc. Nullam fermentum erat eget rutrum vestibulum. Nulla facilisi. Nunc egestas vel sapien in convallis. Maecenas ultricies, lorem ac iaculis commodo, nulla libero bibendum sem, vel viverra magna dui quis lectus.
</p>
<p>
Pellentesque at euismod nisl. Donec ut purus diam. Curabitur interdum urna ut sapien convallis aliquam. Duis viverra auctor hendrerit. Sed molestie fringilla dui quis dignissim. Pellentesque mattis ultrices diam, a imperdiet purus. Mauris iaculis quis leo et mollis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Maecenas venenatis, lacus nec pretium tempus, mauris sem vestibulum leo, nec elementum arcu lectus a urna. Cras scelerisque tempor est, sit amet pellentesque urna vehicula vitae. Phasellus pretium ornare commodo. Cras ultricies velit nec neque sagittis, tincidunt malesuada sem lobortis. Sed eu eros sit amet risus consectetur aliquet et nec nulla. Duis rutrum ac magna in faucibus.
</p>
<p>
Pellentesque volutpat, massa ut molestie mattis, lorem ipsum eleifend tortor, vitae commodo magna sem vitae arcu. Donec eleifend risus orci, et consectetur lorem aliquet elementum. Etiam semper ipsum justo, ut vulputate tortor convallis at. Donec sed posuere ligula. Vestibulum sed ipsum euismod, commodo urna nec, gravida elit. Proin ullamcorper congue feugiat. Suspendisse vitae metus at massa porttitor mattis. Etiam sed ullamcorper erat. Sed scelerisque sapien metus, nec rhoncus tortor fringilla eu. Sed congue tincidunt ante at posuere.
</p>
<p>
Morbi iaculis consectetur lectus, at pulvinar ligula. Proin eu magna nec neque rutrum ullamcorper. Nunc non posuere diam. Nulla aliquam dapibus tortor sit amet auctor. Nulla lacinia sem nisi, et elementum leo tincidunt vel. Nulla adipiscing arcu sed est posuere feugiat. Curabitur facilisis diam nec lorem luctus, et lacinia lectus ornare. Mauris non tortor ac sem iaculis blandit ac id mi. Nam sit amet sapien ipsum. In pulvinar risus ac dui dictum aliquam. Sed tempus, nulla at placerat euismod, neque nisi commodo dui, et imperdiet leo ante quis nisi.
</p>
<p>
Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed ut ipsum venenatis, commodo felis vel, tincidunt quam. Etiam ornare pharetra nisl vitae consectetur. Sed viverra, nisl eu egestas eleifend, urna leo porttitor ante, non adipiscing nisl dolor eu velit. Nunc sit amet faucibus turpis. Pellentesque bibendum id sapien at commodo. Integer scelerisque malesuada euismod. Vivamus eu purus augue.
</p></div>
  		</div>
    </div><!-- /content -->
  </div><!-- /main -->
</body>
</html>
